"use strict";(self.webpackChunkmir_guia=self.webpackChunkmir_guia||[]).push([[4645],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>k});var a=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=p(t),u=o,k=d["".concat(s,".").concat(u)]||d[u]||m[u]||r;return t?a.createElement(k,l(l({ref:n},c),{},{components:t})):a.createElement(k,l({ref:n},c))}));function k(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,l=new Array(r);l[0]=u;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[d]="string"==typeof e?e:o,l[1]=i;for(var p=2;p<r;p++)l[p]=t[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},8508:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>p});var a=t(7462),o=(t(7294),t(3905));const r={},l="Componentes de Clase",i={unversionedId:"react/componentes-clase",id:"react/componentes-clase",title:"Componentes de Clase",description:"Aunque los componentes de clase han perdido popularidad y la comunidad de React recomienda utilizar componentes funcionales, a\xfan existen proyectos que utilizan componentes de clases y por eso creamos esta gu\xeda.",source:"@site/docs/react/componentes-clase.md",sourceDirName:"react",slug:"/react/componentes-clase",permalink:"/docs/react/componentes-clase",draft:!1,editUrl:"https://github.com/makeitrealcamp/new-guides/tree/main/docs/react/componentes-clase.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Testing",permalink:"/docs/react/testing"},next:{title:"Redux",permalink:"/docs/redux/"}},s={},p=[{value:"Definiendo un componente",id:"definiendo-un-componente",level:2},{value:"Props",id:"props",level:2},{value:"Estado",id:"estado",level:2},{value:"M\xe9todos de c\xedclo de vida",id:"m\xe9todos-de-c\xedclo-de-vida",level:2}],c={toc:p},d="wrapper";function m(e){let{components:n,...t}=e;return(0,o.kt)(d,(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"componentes-de-clase"},"Componentes de Clase"),(0,o.kt)("p",null,"Aunque los componentes de clase han perdido popularidad y la comunidad de React recomienda utilizar componentes funcionales, a\xfan existen proyectos que utilizan componentes de clases y por eso creamos esta gu\xeda."),(0,o.kt)("p",null,"Un reto interesante (y quiza una de las razones por las que los componentes de clase han perdido popularidad) es que para trabajar con componentes de clase debes saber lo siguiente:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"C\xf3mo definir una clase."),(0,o.kt)("li",{parentName:"ul"},"Qu\xe9 es herencia."),(0,o.kt)("li",{parentName:"ul"},"C\xf3mo definir un constructor."),(0,o.kt)("li",{parentName:"ul"},"Para qu\xe9 se utiliza la palabra clave ",(0,o.kt)("inlineCode",{parentName:"li"},"super"),"."),(0,o.kt)("li",{parentName:"ul"},"C\xf3mo utilizar ",(0,o.kt)("inlineCode",{parentName:"li"},"this")," correctamente."),(0,o.kt)("li",{parentName:"ul"},"Para qu\xe9 se utiliza el m\xe9todo ",(0,o.kt)("inlineCode",{parentName:"li"},"bind"),".")),(0,o.kt)("p",null,"Esto temas los puedes consultar en las gu\xedas de la secci\xf3n ",(0,o.kt)("a",{parentName:"p",href:"/docs/javascript/avanzado/prototipos"},"JavaScript"),"."),(0,o.kt)("h2",{id:"definiendo-un-componente"},"Definiendo un componente"),(0,o.kt)("p",null,"Para definir un componente de clase se debe extender ",(0,o.kt)("inlineCode",{parentName:"p"},"Component")," y crear un m\xe9todo ",(0,o.kt)("inlineCode",{parentName:"p"},"render")," que retorna el JSX:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"import React, { Component } from 'react';\n\nclass Title extends Component {\n  render() {\n    return <h1>Hola mundo</h1>;\n  }\n}\n")),(0,o.kt)("h2",{id:"props"},"Props"),(0,o.kt)("p",null,"Para recibir ",(0,o.kt)("inlineCode",{parentName:"p"},"props")," en un componente clase debemos crear un constructor que los reciba:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"class Welcome extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return <h1>{this.props.name}</h1>\n  }\n}\n")),(0,o.kt)("p",null,"Lo primero que hacemos en el constructor es llamar el constructor padre con los ",(0,o.kt)("inlineCode",{parentName:"p"},"props"),", esto los almacena para que los podamos obtener con ",(0,o.kt)("inlineCode",{parentName:"p"},"this.props"),"."),(0,o.kt)("h2",{id:"estado"},"Estado"),(0,o.kt)("p",null,"A diferencia de los componentes funcionales que utilizan el hook ",(0,o.kt)("inlineCode",{parentName:"p"},"useState")," para manejar el estado, los componente clase cuentan con un objeto llamado ",(0,o.kt)("inlineCode",{parentName:"p"},"state")," donde vamos a almacenar nuestro estado."),(0,o.kt)("p",null,"Cada vez que cambia ",(0,o.kt)("inlineCode",{parentName:"p"},"state")," (a trav\xe9s del m\xe9todo ",(0,o.kt)("inlineCode",{parentName:"p"},"setState"),"), React vuelve a renderizar el componente en la vista."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'class Welcome extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      title: "Hola Mundo"\n    };\n  }\n\n  render() {\n    return <h1>{this.state.title}</h1>;\n  }\n}\n')),(0,o.kt)("p",null,"En este ejemplo estamos definiendo un componente llamado ",(0,o.kt)("inlineCode",{parentName:"p"},"Welcome")," que inicializa el estado con una llave ",(0,o.kt)("inlineCode",{parentName:"p"},"title"),". En el m\xe9todo ",(0,o.kt)("inlineCode",{parentName:"p"},"render")," estamos obteniendo el valor de esa llave con ",(0,o.kt)("inlineCode",{parentName:"p"},"this.state.title"),"."),(0,o.kt)("p",null,"Para cambiar el estado utilizamos el m\xe9todo ",(0,o.kt)("inlineCode",{parentName:"p"},"setState"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'this.setState({\n  title: "Hello World"\n});\n')),(0,o.kt)("p",null,"Por ejemplo, podemos cambiar nuestro ejemplo anterior para que cuando hagan click sobre el ",(0,o.kt)("inlineCode",{parentName:"p"},"h1")," cambie el texto. Para eso vamos a definir un m\xe9todo ",(0,o.kt)("inlineCode",{parentName:"p"},"updateText")," que vamos a invocar cuando hagan ",(0,o.kt)("inlineCode",{parentName:"p"},"click")," sobre el ",(0,o.kt)("inlineCode",{parentName:"p"},"h1"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'class Welcome extends Component {\n  constructor() {\n    ...\n\n    // tenemos que enlazar el m\xe9todo al contexto actual\n    this.updateText = this.updateText.bind(this);\n  }\n\n  render() {\n    return <h1 onClick={this.updateText}>{this.state.title}</h1>;\n  }\n\n  updateText() {\n    this.setState({\n      title: "Hello World"\n    });\n  }\n}\n')),(0,o.kt)("h2",{id:"m\xe9todos-de-c\xedclo-de-vida"},"M\xe9todos de c\xedclo de vida"),(0,o.kt)("p",null,"Una ventaja de los componentes de clase es que cuenta con m\xe9todos espec\xedficos para cada momento del ciclo de vida de un componente. Los m\xe1s importantes son:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"componentDidMount"),": se ejecuta justo despu\xe9s que se ha renderizado el componente, ideal para hacer llamados a API o cualquier otra inicializaci\xf3n que necesita el componente."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"componentWillUnmount"),': se ejecuta antes de que el componente se remueve del DOM, cuando se va a "desmontar".')),(0,o.kt)("p",null,"Estos m\xe9todos est\xe1n definidos en ",(0,o.kt)("inlineCode",{parentName:"p"},"React.Component")," y se sobrescriben en el componente. Por ejemplo:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'import React, { Component } from \'react\';\n\nclass Welcome extends Component {\n  componentDidMount() {\n    console.log("El componente ha sido montado");\n  }\n\n  componentWillUnmount() {\n    console.log("El componente va a ser desmontado");\n  }\n\n  render() {\n    // return JSX\n  }\n}\n')),(0,o.kt)("p",null,"Otros m\xe9todos que podemos sobrescribir son los siguientes:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"componentWillUpdate"),": se ejecuta antes de que el componente se va a volver a renderizar (p.e. porque se llam\xf3 ",(0,o.kt)("inlineCode",{parentName:"li"},"setState")," o los ",(0,o.kt)("inlineCode",{parentName:"li"},"props")," cambiaron)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"shouldComponentUpdate"),": este m\xe9todo nos permite decidir si el componente se debe volver a renderizar, si retorna ",(0,o.kt)("inlineCode",{parentName:"li"},"true")," se vuelve a renderizar, de lo contrario no se renderiza."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"componentDidUpdate"),": se ejecuta despu\xe9s de que el componente se volvi\xf3 a renderizar.")))}m.isMDXComponent=!0}}]);