"use strict";(self.webpackChunkmir_guia=self.webpackChunkmir_guia||[]).push([[1510],{3905:(e,a,t)=>{t.d(a,{Zo:()=>u,kt:()=>g});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function s(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?s(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=n.createContext({}),p=function(e){var a=n.useContext(i),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},u=function(e){var a=p(e.components);return n.createElement(i.Provider,{value:a},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(t),m=r,g=c["".concat(i,".").concat(m)]||c[m]||d[m]||s;return t?n.createElement(g,o(o({ref:a},u),{},{components:t})):n.createElement(g,o({ref:a},u))}));function g(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var s=t.length,o=new Array(s);o[0]=m;var l={};for(var i in a)hasOwnProperty.call(a,i)&&(l[i]=a[i]);l.originalType=e,l[c]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<s;p++)o[p]=t[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},2676:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>i,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var n=t(7462),r=(t(7294),t(3905));const s={},o="Vistas",l={unversionedId:"nodejs/express/vistas",id:"nodejs/express/vistas",title:"Vistas",description:"Escribir todo el HTML dentro del c\xf3digo JavaScript es muy engorroso y lo que se recomienda es utilizar un motor de plantillas \\(template engine\\) que nos permita separar nuestro c\xf3digo HTML de nuestro c\xf3digo JavaScript.",source:"@site/docs/nodejs/express/vistas.md",sourceDirName:"nodejs/express",slug:"/nodejs/express/vistas",permalink:"/docs/nodejs/express/vistas",draft:!1,editUrl:"https://github.com/makeitrealcamp/new-guides/tree/main/docs/nodejs/express/vistas.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Rutas",permalink:"/docs/nodejs/express/rutas"},next:{title:"Middlewares y manejo de errores",permalink:"/docs/nodejs/express/middlewares-y-manejo-de-errores"}},i={},p=[{value:"Pasando informaci\xf3n a la vista",id:"pasando-informaci\xf3n-a-la-vista",level:2},{value:"Creando un layout",id:"creando-un-layout",level:2}],u={toc:p},c="wrapper";function d(e){let{components:a,...t}=e;return(0,r.kt)(c,(0,n.Z)({},u,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"vistas"},"Vistas"),(0,r.kt)("p",null,"Escribir todo el HTML dentro del c\xf3digo JavaScript es muy engorroso y lo que se recomienda es utilizar un motor de plantillas ","(","template engine",")"," que nos permita separar nuestro c\xf3digo HTML de nuestro c\xf3digo JavaScript."),(0,r.kt)("p",null,"Existen varios motores de plantillas como ",(0,r.kt)("a",{parentName:"p",href:"https://pugjs.org/"},"Pug"),", ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/janl/mustache.js"},"Mustache")," y ",(0,r.kt)("a",{parentName:"p",href:"http://ejs.co/"},"EJS"),". Como ilustraci\xf3n vamos a usar ",(0,r.kt)("a",{parentName:"p",href:"https://pugjs.org/"},"Pug")," en este cap\xedtulo."),(0,r.kt)("p",null,"El primer paso es instalar el motor de plantillas utilizando ",(0,r.kt)("strong",{parentName:"p"},"npm")," o ",(0,r.kt)("strong",{parentName:"p"},"yarn"),". Por ejemplo, para instalar ",(0,r.kt)("a",{parentName:"p",href:"https://pugjs.org/"},"Pug")," con ",(0,r.kt)("strong",{parentName:"p"},"yarn")," ejecutar\xedamos el siguiente comando:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"$ yarn add pug --dev\n")),(0,r.kt)("p",null,"El segundo paso es configurar el motor de plantillas y la carpeta donde se van a almacenar las vistas. Por ejemplo, para configurar ",(0,r.kt)("a",{parentName:"p",href:"https://pugjs.org/"},"Pug")," y la carpeta ",(0,r.kt)("inlineCode",{parentName:"p"},"views")," agregar\xedamos las siguiente dos l\xedneas en nuestra aplicaci\xf3n despu\xe9s de definir la variable ",(0,r.kt)("inlineCode",{parentName:"p"},"app"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"app.set('view engine', 'pug');\napp.set('views', 'views');\n")),(0,r.kt)("p",null,"Para crear una vista debes crear un archivo con extensi\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},".pug")," en la carpeta ",(0,r.kt)("inlineCode",{parentName:"p"},"views")," ","(","o la que hayas configurado",")","."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pugjs.org/"},"Pug")," utiliza una sintaxis similar a HTML pero m\xe1s compacta. Veamos un ejemplo. Crea un archivo llamado ",(0,r.kt)("inlineCode",{parentName:"p"},"index.pug")," en la carpeta ",(0,r.kt)("inlineCode",{parentName:"p"},"views")," con el siguiente contenido:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"html\n  head\n    title Vista con Pug\n  body\n    h1 Esta es mi primera vista con Pug\n")),(0,r.kt)("p",null,"Para utilizar esta vista desde una ruta debemos usar el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"res.render"),". Agrega la siguiente ruta al archivo ",(0,r.kt)("inlineCode",{parentName:"p"},"app.js"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"app.get('/', (req, res) => {\n  res.render('index');\n});\n")),(0,r.kt)("p",null,"F\xedjate que no es necesario agregar la extensi\xf3n del archivo, Express ya sabe cu\xe1l es."),(0,r.kt)("p",null,"Inicia el servidor e ingresa desde un navegador a ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:3000/"},"http://localhost:3000/"),'. Deber\xedas ver el texto "Esta es mi primera vista con Pug" y el t\xedtulo de la pesta\xf1a deber\xeda ser "Vista con Pug".'),(0,r.kt)("h2",{id:"pasando-informaci\xf3n-a-la-vista"},"Pasando informaci\xf3n a la vista"),(0,r.kt)("p",null,"Tambi\xe9n es posible pasar informaci\xf3n desde la ruta a la vista. Por ejemplo, si queremos pasar el texto que va en el ",(0,r.kt)("inlineCode",{parentName:"p"},"title")," y el ",(0,r.kt)("inlineCode",{parentName:"p"},"h1")," desde la ruta podemos hacer lo siguiente:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"html\n  head\n    title= title\n  body\n    h1= message\n")),(0,r.kt)("p",null,"Y pasarle esas variables ",(0,r.kt)("inlineCode",{parentName:"p"},"title")," y ",(0,r.kt)("inlineCode",{parentName:"p"},"message")," desde la ruta:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"app.get('/', (req, res) => {\n  res.render('index', { title: \"Variables en Pug\", message: \"Ya s\xe9 pasar info a la vista\" });\n});\n")),(0,r.kt)("p",null,'Si reinicias el servidor y refrescas la p\xe1gina deber\xedas ver el texto "Ya s\xe9 pasar info a la vista" y el t\xedtulo de la pesta\xf1a deber\xeda ser "Variables en Pug".'),(0,r.kt)("h2",{id:"creando-un-layout"},"Creando un layout"),(0,r.kt)("p",null,"Esta informaci\xf3n es espec\xedfica de Pug. Para ver c\xf3mo se hace en otros motores de plantillas debes consultar su documentaci\xf3n."),(0,r.kt)("p",null,"Existen elementos que se repiten en todas las p\xe1ginas como la estructura b\xe1sica de HTML, el men\xfa principal, etc. ","(","a esto se le conoce como un ",(0,r.kt)("strong",{parentName:"p"},"layout"),")",". Con Pug puedes crear un archivo con estos elementos y reutilizarlo en tus vistas."),(0,r.kt)("p",null,"Por ejemplo, crea un archivo llamado ",(0,r.kt)("inlineCode",{parentName:"p"},"layout.pug")," dentro de la carpeta ",(0,r.kt)("inlineCode",{parentName:"p"},"views")," con el siguiente contenido:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"html\n  head\n    title Mi super p\xe1gina\n  body\n    block content\n")),(0,r.kt)("p",null,"La l\xednea ",(0,r.kt)("inlineCode",{parentName:"p"},"block content")," se va a reemplazar con el c\xf3digo de cada vista. Ahora vamos a crear una vista llamada ",(0,r.kt)("inlineCode",{parentName:"p"},"index.pug")," ","(","tambi\xe9n en la carpeta ",(0,r.kt)("inlineCode",{parentName:"p"},"views"),")",' que va a "extender" el layout que acabamos de crear:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"extends layout.pug\n\nblock content\n  h1 Hola Mundo\n")),(0,r.kt)("p",null,"Todo lo que se encuentre debajo de ",(0,r.kt)("inlineCode",{parentName:"p"},"block content")," se va a reemplazar en el layout donde est\xe9 definido el bloque con el mismo nombre."),(0,r.kt)("p",null,"Puedes tener varios bloques si es necesario."))}d.isMDXComponent=!0}}]);