"use strict";(self.webpackChunkmir_guia=self.webpackChunkmir_guia||[]).push([[5838],{3905:(e,a,t)=>{t.d(a,{Zo:()=>u,kt:()=>k});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function c(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=n.createContext({}),s=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},u=function(e){var a=s(e.components);return n.createElement(l.Provider,{value:a},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),d=s(t),m=r,k=d["".concat(l,".").concat(m)]||d[m]||p[m]||o;return t?n.createElement(k,i(i({ref:a},u),{},{components:t})):n.createElement(k,i({ref:a},u))}));function k(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=m;var c={};for(var l in a)hasOwnProperty.call(a,l)&&(c[l]=a[l]);c.originalType=e,c[d]="string"==typeof e?e:r,i[1]=c;for(var s=2;s<o;s++)i[s]=t[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},8118:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>s});var n=t(7462),r=(t(7294),t(3905));const o={},i="Redux ToolKit",c={unversionedId:"redux/redux-tool-kit",id:"redux/redux-tool-kit",title:"Redux ToolKit",description:"Redux Toolkit tiene como objetivo simplificar Redux con una mejor abstracci\xf3n y mas conveniente sobre el \u201ctexto original\u201d del que se quejaron tantos desarrolladores. Redux esta bien, pero era un poco complicado.",source:"@site/docs/redux/redux-tool-kit.md",sourceDirName:"redux",slug:"/redux/redux-tool-kit",permalink:"/docs/redux/redux-tool-kit",draft:!1,editUrl:"https://github.com/makeitrealcamp/new-guides/tree/main/docs/redux/redux-tool-kit.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Combinando funciones reductoras",permalink:"/docs/redux/combinando-reductoras"},next:{title:"Testing",permalink:"/docs/redux/testing"}},l={},s=[{value:"RTK - (Redux Tool Kit)",id:"rtk---redux-tool-kit",level:2},{value:"Instalacion",id:"instalacion",level:2},{value:"Una aplicaci\xf3n existente",id:"una-aplicaci\xf3n-existente",level:3},{value:"Qu\xe9 est\xe1 incluido:",id:"qu\xe9-est\xe1-incluido",level:2},{value:"Preparando el Store",id:"preparando-el-store",level:2},{value:"Crear Slices",id:"crear-slices",level:2},{value:"Reducer",id:"reducer",level:2},{value:"Accciones",id:"accciones",level:2},{value:"Conclusi\xf3n",id:"conclusi\xf3n",level:2}],u={toc:s},d="wrapper";function p(e){let{components:a,...t}=e;return(0,r.kt)(d,(0,n.Z)({},u,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"redux-toolkit"},"Redux ToolKit"),(0,r.kt)("p",null,"Redux Toolkit tiene como objetivo simplificar Redux con una mejor abstracci\xf3n y mas conveniente sobre el \u201ctexto original\u201d del que se quejaron tantos desarrolladores. Redux esta bien, pero era un poco complicado."),(0,r.kt)("p",null,"Redux ha cambiado mucho. El kit de herramientas (Toolkit) de Redux se ha convertido en la forma recomendada de usar Redux, el nuevo\xa0",(0,r.kt)("em",{parentName:"p"},"codebase"),"\xa0basado en el kit de herramientas de Redux diferir\xe1n mucho de lo que sol\xedamos escribir en el pasado."),(0,r.kt)("p",null,"Sin embargo, los bloques de construcci\xf3n fundamentales de Redux siguen siendo la acci\xf3n, los\xa0",(0,r.kt)("em",{parentName:"p"},"reducers"),"\xa0(reductores), el\xa0",(0,r.kt)("em",{parentName:"p"},"middleware"),"\xa0y el store (",(0,r.kt)("em",{parentName:"p"},"tienda"),"), y necesita un buen conocimiento de estos bloques para dominar Redux y el kit de herramientas de Redux."),(0,r.kt)("p",null,"Si has llegado hasta aqu\xed y te has dado cuenta que para usar Redux es necesario hacer lo siguiente:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Configuraci\xf3n (boilerplate): Redux requiere demasiado c\xf3digo repetitivo, lo que hace que sea engorroso escribir c\xf3digo eficiente y limpio"),(0,r.kt)("li",{parentName:"ul"},"Agregar muchos paquetes para construir una aplicaci\xf3n a gran escala.")),(0,r.kt)("p",null,"Hoy en dia, contamos con\xa0",(0,r.kt)("a",{parentName:"p",href:"https://redux-toolkit.js.org/"},"Redux toolkit"),"\xa0que nos ofrece las siguientes soluciones:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Simplifica la configuraci\xf3n de redux"),(0,r.kt)("li",{parentName:"ul"},"Elimina la necesidad de agregar m\xfaltiples paquetes para tener una aplicaci\xf3n escalable."),(0,r.kt)("li",{parentName:"ul"},"Reduce el c\xf3digo repetitivo.")),(0,r.kt)("p",null,"Actualmente no se recomienda usar\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"react-redux"),"\xa0sin\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"@reduxjs/toolkit"),"."),(0,r.kt)("h2",{id:"rtk---redux-tool-kit"},"RTK - (Redux Tool Kit)"),(0,r.kt)("p",null,"Proporciona el soporte autom\xe1tico para muchas dependencias que eran necesario instalar por aparte con redux tradicional, entre ellas encontramos:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/reduxjs/redux-devtools"},"Redux Dev-tools")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/immer"},"immer.js")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/redux"},"redux")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/redux-thunk"},"redux-thunk")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/reselect"},"Reselect"))),(0,r.kt)("p",null,"En las siguientes secciones, exploraremos Redux Toolkit con el fin de ayudarte a conocer los principales conceptos."),(0,r.kt)("h2",{id:"instalacion"},"Instalacion"),(0,r.kt)("p",null,"La forma recomendada de iniciar nuevas aplicaciones con React y Redux es mediante el uso de la plantilla oficial Redux+JS o la plantilla Redux+TS para Create React App, que aprovecha la integraci\xf3n de Redux Toolkit y React Redux con los componentes de React."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Redux + Plain JS template\nnpx create-react-app my-app --template redux\n")),(0,r.kt)("h3",{id:"una-aplicaci\xf3n-existente"},"Una aplicaci\xf3n existente"),(0,r.kt)("p",null,"Redux Toolkit est\xe1 disponible como un paquete en NPM para usar con un paquete de m\xf3dulos o en una aplicaci\xf3n Node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# NPM\nnpm install @reduxjs/toolkit\n")),(0,r.kt)("h2",{id:"qu\xe9-est\xe1-incluido"},"Qu\xe9 est\xe1 incluido:"),(0,r.kt)("p",null,"Redux Toolkit includes these APIs:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://redux-toolkit.js.org/api/configureStore"},"configureStore()"),": envuelve ",(0,r.kt)("inlineCode",{parentName:"li"},"createStore")," para proporcionar opciones de configuraci\xf3n simplificadas y buenos valores predeterminados. Puede combinar autom\xe1ticamente los reductores, agregar cualquier middleware de Redux, incluye \xa0",(0,r.kt)("inlineCode",{parentName:"li"},"redux-thunk")," de forma predeterminada y permite el uso de la extension Redux DevTools en los navegadores."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://redux-toolkit.js.org/api/createReducer"},"createReducer()"),": permite proporcionar una tabla de b\xfasqueda de tipos de acci\xf3n para los casos de los reducers. Adem\xe1s, utiliza autom\xe1ticamente la ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/immerjs/immer"},"biblioteca ",(0,r.kt)("inlineCode",{parentName:"a"},"immer"))," para permitirle escribir actualizaciones inmutables m\xe1s simples con c\xf3digo mutativo normal, como ",(0,r.kt)("inlineCode",{parentName:"li"},"state.todos[3].completed = true"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://redux-toolkit.js.org/api/createAction"},"createAction()"),": genera una funci\xf3n de ",(0,r.kt)("em",{parentName:"li"},"creador de acci\xf3n")," para el tipo de acci\xf3n dada. La funci\xf3n en s\xed tiene ",(0,r.kt)("inlineCode",{parentName:"li"},"toString()")," definido, por lo que puede usarse en lugar de la constante de tipo."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://redux-toolkit.js.org/api/createSlice"},"createSlice()"),": acepta un objeto de funciones reductoras, un nombre de secci\xf3n (slice) y un valor de estado inicial, y genera autom\xe1ticamente un reductor slice con los creadores de acci\xf3n y los tipos de acci\xf3n correspondientes."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://redux-toolkit.js.org/api/createAsyncThunk"},"createAsyncThunk"),": acepta un tipo de acci\xf3n y una funci\xf3n que devuelve una promesa, y genera un procesador que env\xeda tipos de acci\xf3n ",(0,r.kt)("inlineCode",{parentName:"li"},"pending/fulfilled/rejected")," en funci\xf3n de esa promesa")),(0,r.kt)("h2",{id:"preparando-el-store"},"Preparando el Store"),(0,r.kt)("p",null,"Para empezar a escribir l\xf3gica con redux, lo primero que se tiene que hacer es configurar el\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Store"),". Para eso\xa0",(0,r.kt)("a",{parentName:"p",href:"https://redux-toolkit.js.org/"},"Redux toolkit"),"\xa0provee un m\xe9todo que nos ayuda con el procedimiendo, el cual se llama\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"configureStore"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'// store/index.js\n\nimport { configureStore } from "@reduxjs/toolkit";\n\nexport const store = configureStore({\n  reducer: {},\n  devTools: process.env.NODE_ENV !== "production",\n});\n\nexport default store;\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Conexi\xf3n con React")),(0,r.kt)("p",null,"Ahora es momento de poner disponible el store hacia React, para eso\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"react-redux"),"\xa0provee un\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Provider"),"\xa0para poner disponible el\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"Store"),"\xa0en todo el \xe1rbol de componentes."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"// index.js\n\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { Provider } from 'react-redux';\n\nimport { store } from './store';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>\n);\n")),(0,r.kt)("h2",{id:"crear-slices"},"Crear Slices"),(0,r.kt)("p",null,"Redux Toolkit ha ayudado a codificar la noci\xf3n de que, en lugar de dividir nuestra redux store en varios archivos reductores, archivos de acci\xf3n y archivos selectores, debe dividirse en ",(0,r.kt)("strong",{parentName:"p"},"slices")," (secciones). Cada slice en general, es responsable de poseer los reductores, selectores o procesadores que acceden o manipulan principalmente esa informaci\xf3n."),(0,r.kt)("p",null,"El m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"createSlice")," de RTK simplifica la forma en que se crean los reductores. Los reductores son el lugar donde el estado redux se actualiza (o se reemplaza). Se pasa una acci\xf3n a nuestra tienda redux y cada uno de nuestros reductores tiene la oportunidad de responder a esa acci\xf3n con un nuevo estado. Con RTK, se definen m\xe9todos de reducci\xf3n y las acciones y los tipos de acci\xf3n asociados con esos m\xe9todos se generan autom\xe1ticamente."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = { value: 0 }\n\nconst counterSlice = createSlice({\n  name: 'counter',\n  initialState,\n  reducers: {\n    increment(state) {\n      state.value++\n    },\n    decrement(state) {\n      state.value--\n    },\n    incrementByAmount(state, action) {\n      state.value += action.payload\n    },\n  },\n})\n\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions\nexport default counterSlice.reducer\n")),(0,r.kt)("h2",{id:"reducer"},"Reducer"),(0,r.kt)("p",null,"Como se mencion\xf3 anteriormente, los\xa0",(0,r.kt)("a",{parentName:"p",href:"https://redux.js.org/tutorials/fundamentals/part-3-state-actions-reducers#writing-reducers"},"reducers"),"\xa0son funciones puras que toman el estado actual y la acci\xf3n para retornar un nuevo estado."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://redux-toolkit.js.org/api/createreducer"},"Redux toolkit"),"\xa0exporta una funci\xf3n llamada\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"createReducer"),"\xa0la cual facilita la creaci\xf3n de un reducer agregando ciertas caracter\xedsticas que facilitan el desarrollo."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"createReducer")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import { createAction, createReducer } from '@reduxjs/toolkit'\n\nconst reducer = createReducer(initalState, (builder) => {});\n")),(0,r.kt)("p",null,"Redux toolkit tiene un objeto builder, el cual expone una serie de m\xe9todos como\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"addCase"),"\xa0con el cual le recibe como par\xe1metros."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"ActionCreator:"),"\xa0La funci\xf3n generada por\xa0",(0,r.kt)("inlineCode",{parentName:"p"},"createAction")," o una acci\xf3n como tal."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Reducer:"),"\xa0El reducer encargado solo de manejar esta acci\xf3n."),(0,r.kt)("p",null,"Ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import { createAction, createReducer } from '@reduxjs/toolkit'\n\nconst increment = createAction('counter/increment')\nconst decrement = createAction('counter/decrement')\nconst incrementByAmount = createAction('counter/incrementByAmount')\n\nconst initialState = { value: 0 }\n\nconst counterReducer = createReducer(initialState, (builder) => {\n  builder\n    .addCase(increment, (state, action) => {\n      state.value++\n    })\n    .addCase(decrement, (state, action) => {\n      state.value--\n    })\n    .addCase(incrementByAmount, (state, action) => {\n      state.value += action.payload\n    })\n})\n")),(0,r.kt)("h2",{id:"accciones"},"Accciones"),(0,r.kt)("p",null,"Las acciones son objetos planos que expresan una intenci\xf3n de cambiar el estado. Puedes pensar en una acci\xf3n como un evento ocurrido en la aplicaci\xf3n, por ejemplo; se agreg\xf3 un producto, se elimin\xf3 un contacto, cargando contactos, todos ellos describen algo que est\xe1 pasando en al app."),(0,r.kt)("p",null,"Dicho esto podemos empezar a escribir acciones, las acciones tiene un\xa0",(0,r.kt)("a",{parentName:"p",href:"https://medium.com/@khriztianmoreno/flux-standard-action-fsa-499369bf34fa"},"est\xe1ndar"),"\xa0que indican que deben ser as\xed."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"{\n  type: 'ADD_TODO',\n  payload: {\n    text: 'Do something.'\n  }\n}\n")),(0,r.kt)("p",null,"Redux toolkit Simplifica este procedimiento con un utility llamado\xa0",(0,r.kt)("a",{parentName:"p",href:"https://redux-toolkit.js.org/api/createAction"},"createAction")," el cual es una\xa0",(0,r.kt)("a",{parentName:"p",href:"https://leobar37.medium.com/hofs-clousures-y-callbacks-para-ser-feliz-en-javascript-fa105ed6ad44"},"HOF"),"(higher order function) los cuales son funciones que retornan funciones."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'import { createAction } from "@reduxjs/toolkit";\n\nexport const addTodo = createAction("ADD_TODO");\n')),(0,r.kt)("h2",{id:"conclusi\xf3n"},"Conclusi\xf3n"),(0,r.kt)("p",null,"Redux Toolkit es beneficioso para todos los usuarios de Redux independientemente de su nivel de habilidad. Se puede agregar como una parte interna del proyecto al inicio o se puede agregar durante la actualizaci\xf3n interna en el existente."),(0,r.kt)("p",null,"Pero a\xfan asi, es necesario que tengas el conocimiento b\xe1sico de c\xf3mo manejar y cambiar el estado de manera inmutable y tambi\xe9n debe tener una idea de lo que est\xe1 sucediendo bajo el cap\xf3 antes de migrar de Redux a Redux Toolkit."))}p.isMDXComponent=!0}}]);