"use strict";(self.webpackChunkmir_guia=self.webpackChunkmir_guia||[]).push([[9147],{3905:(e,a,t)=>{t.d(a,{Zo:()=>s,kt:()=>k});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=n.createContext({}),p=function(e){var a=n.useContext(u),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},s=function(e){var a=p(e.components);return n.createElement(u.Provider,{value:a},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,o=e.originalType,u=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),c=p(t),d=r,k=c["".concat(u,".").concat(d)]||c[d]||m[d]||o;return t?n.createElement(k,i(i({ref:a},s),{},{components:t})):n.createElement(k,i({ref:a},s))}));function k(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=d;var l={};for(var u in a)hasOwnProperty.call(a,u)&&(l[u]=a[u]);l.originalType=e,l[c]="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=t[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2147:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>u,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var n=t(7462),r=(t(7294),t(3905));const o={},i="React Router",l={unversionedId:"react/react-router",id:"react/react-router",title:"React Router",description:"Para crear aplicaciones en React que est\xe9n compuestas de varias pantallas necesitamos un enrutador.",source:"@site/docs/react/react-router.md",sourceDirName:"react",slug:"/react/react-router",permalink:"/docs/react/react-router",draft:!1,editUrl:"https://github.com/makeitrealcamp/new-guides/tree/main/docs/react/react-router.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"React Hooks",permalink:"/docs/react/react-hooks"},next:{title:"Estructura de carpetas",permalink:"/docs/react/estructura-carpetas"}},u={},p=[{value:"Navegaci\xf3n (declarativa)",id:"navegaci\xf3n-declarativa",level:2},{value:"Plantillas (template)",id:"plantillas-template",level:2},{value:"Ruta No Encontrada",id:"ruta-no-encontrada",level:2},{value:"Par\xe1metros de Ruta",id:"par\xe1metros-de-ruta",level:2},{value:"Navegaci\xf3n (program\xe1tica)",id:"navegaci\xf3n-program\xe1tica",level:2},{value:"Rutas Privadas",id:"rutas-privadas",level:2}],s={toc:p},c="wrapper";function m(e){let{components:a,...t}=e;return(0,r.kt)(c,(0,n.Z)({},s,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"react-router"},"React Router"),(0,r.kt)("p",null,"Para crear aplicaciones en React que est\xe9n compuestas de varias pantallas necesitamos un enrutador."),(0,r.kt)("p",null,"Un enrutador nos permite relacionar URL's con componentes."),(0,r.kt)("p",null,"React no incluye un enrutador pero podemos utilizar una liberar\xeda llamada ",(0,r.kt)("a",{parentName:"p",href:"https://reactrouter.com/"},"React Router"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Nota:")," en esta secci\xf3n vamos a utilizar la versi\xf3n ",(0,r.kt)("strong",{parentName:"p"},"6")," de ",(0,r.kt)("a",{parentName:"p",href:"https://reactrouter.com/"},"React Router"),"."),(0,r.kt)("p",null,"El primer paso para utilizar ",(0,r.kt)("a",{parentName:"p",href:"https://reactrouter.com/"},"React Router")," es instalar la librer\xeda."),(0,r.kt)("p",null,"Con npm:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"$ npm install react-router-dom@6 history@5\n")),(0,r.kt)("p",null,"Con Yarn:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"$ yarn add react-router-dom@6 history@5\n")),(0,r.kt)("p",null,"Para utilizar ",(0,r.kt)("a",{parentName:"p",href:"https://reactrouter.com/"},"React Router")," en tu proyecto primero debes importarlo y utilizar los componentes ",(0,r.kt)("inlineCode",{parentName:"p"},"BrowserRouter"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Routes")," y ",(0,r.kt)("inlineCode",{parentName:"p"},"Route")," para definir las rutas, por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'import React, { Component } from \'react\';\nimport { BrowserRouter, Routes, Route } from "react-router-dom";\n...\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path="/" element={<Home />} />\n        <Route path="about" element={<About />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n')),(0,r.kt)("p",null,"En este caso, cuando ingresen a la ra\xedz de nuestro proyecto ","(",(0,r.kt)("inlineCode",{parentName:"p"},"/"),")"," se renderizar\xe1 el componente ",(0,r.kt)("inlineCode",{parentName:"p"},"Home")," y cuando ingresen a ",(0,r.kt)("inlineCode",{parentName:"p"},"/about")," se renderizar\xe1 el componente ",(0,r.kt)("inlineCode",{parentName:"p"},"About"),"."),(0,r.kt)("h2",{id:"navegaci\xf3n-declarativa"},"Navegaci\xf3n (declarativa)"),(0,r.kt)("p",null,"Para crear v\xednculos a las rutas de la aplicaci\xf3n sin refrescar la p\xe1gina utiliza el componente ",(0,r.kt)("inlineCode",{parentName:"p"},"Link"),". Por ejemplo, podemos crear un men\xfa que nos permita navegar al ",(0,r.kt)("inlineCode",{parentName:"p"},"Home")," y al ",(0,r.kt)("inlineCode",{parentName:"p"},"About"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'import { BrowserRouter, Routes, Route, Link } from "react-router-dom";\n...\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <nav>\n        <Link to="/">Home</Link> \n        <Link to="/about">About</Link>\n      </nav>\n      <Routes>\n        ...\n      </Routes>\n    </BrowserRouter>\n  );\n}\n')),(0,r.kt)("h2",{id:"plantillas-template"},"Plantillas (template)"),(0,r.kt)("p",null,"Para definir una plantilla que podamos usar en varias pantallas de nuestra aplicaci\xf3n puedes crear rutas anidadas de la siguiente forma:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'function App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path="/" element={<Template />}>\n          <Route index element={<Home />} />\n          <Route path="about" element={<About />} />\n        </Route>\n      </Routes>\n    </BrowserRouter>\n  );\n}\n')),(0,r.kt)("p",null,"Lo primero es definir una ruta que va a definir el template y rutas anidadas que van a utilizar ese template. En este caso nuestro template va a ser definido por un componente llamado ",(0,r.kt)("inlineCode",{parentName:"p"},"Template"),"."),(0,r.kt)("p",null,"La ruta ",(0,r.kt)("inlineCode",{parentName:"p"},"index")," se utiliza para definir el componente que se va a mostrar por defecto cuando alguien ingrese al path definido en la padre ","(","en este caso a la ra\xedz del proyecto ",(0,r.kt)("inlineCode",{parentName:"p"},"/"),")","."),(0,r.kt)("p",null,"El componente ",(0,r.kt)("inlineCode",{parentName:"p"},"Template")," se definir\xeda de la siguiente forma:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import { Outlet } from 'react-router-dom';\n\nfunction Template() {\n  return (\n    <div>\n      <h1>Mi Super Aplicaci\xf3n</h1>\n      <Outlet />\n    </div>\n  );\n}\n")),(0,r.kt)("p",null,"Cada componente como ",(0,r.kt)("inlineCode",{parentName:"p"},"Home")," y ",(0,r.kt)("inlineCode",{parentName:"p"},"About")," se va a renderizar dentro del componente ",(0,r.kt)("inlineCode",{parentName:"p"},"Outlet"),". El ",(0,r.kt)("inlineCode",{parentName:"p"},"<h1>")," aparecer\xe1 en todas las p\xe1ginas."),(0,r.kt)("h2",{id:"ruta-no-encontrada"},"Ruta No Encontrada"),(0,r.kt)("p",null,"Puedes agregar una ruta por defecto cuando ninguna otra ruta coincida:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'import { BrowserRouter, Routes, Route } from "react-router-dom";\n...\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        ...\n        <Route path="*" element={<NotFound />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n')),(0,r.kt)("h2",{id:"par\xe1metros-de-ruta"},"Par\xe1metros de Ruta"),(0,r.kt)("p",null,"Puedes crear rutas din\xe1micas con ",(0,r.kt)("strong",{parentName:"p"},"par\xe1metros de ruta"),"."),(0,r.kt)("p",null,"Los ",(0,r.kt)("strong",{parentName:"p"},"par\xe1metros de ruta")," son variables que puedes utilizar dentro de la ruta."),(0,r.kt)("p",null,"Los ",(0,r.kt)("strong",{parentName:"p"},"par\xe1metors de ruta")," se definen empezando con dos puntos seguidos del nombre de la variable. Por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'<Route path="/hello/:name" element={<Greet />}>\n')),(0,r.kt)("p",null,"Esta ruta coincidir\xeda con cualquier URL que comience con ",(0,r.kt)("inlineCode",{parentName:"p"},"/hello/")," seguido de cualquier otro string (que no contenga ",(0,r.kt)("inlineCode",{parentName:"p"},"/"),"), por ejemplo ",(0,r.kt)("inlineCode",{parentName:"p"},"/hello/pablo")," o ",(0,r.kt)("inlineCode",{parentName:"p"},"/hello/maria"),". Pero no coincidir\xeda con ",(0,r.kt)("inlineCode",{parentName:"p"},"/hello/pedro/perez"),"."),(0,r.kt)("p",null,"Los ",(0,r.kt)("strong",{parentName:"p"},"par\xe1metros de ruta")," se pueden acceder dentro del componente utilizando el hook ",(0,r.kt)("inlineCode",{parentName:"p"},"useParams"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'import { useParams } from "react-router-dom";\n\nfunction Greet() {\n  const params = useParams();\n  return <h1>Hola {params.name}</h1>;\n}\n')),(0,r.kt)("p",null,"Dependiendo del valor que llegue en el ",(0,r.kt)("strong",{parentName:"p"},"par\xe1metro de ruta")," ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," se mostrar\xeda un saludo diferente. Por ejemplo, para ",(0,r.kt)("inlineCode",{parentName:"p"},"/hello/pedro"),' se mostrar\xeda el texto "Hola pedro" dentro del ',(0,r.kt)("inlineCode",{parentName:"p"},"h1"),"."),(0,r.kt)("h2",{id:"navegaci\xf3n-program\xe1tica"},"Navegaci\xf3n (program\xe1tica)"),(0,r.kt)("p",null,"En una secci\xf3n anterior de esta gu\xeda vimos c\xf3mo navegar de forma declarativa utilizando el componente ",(0,r.kt)("inlineCode",{parentName:"p"},"Link"),". En esta secci\xf3n vamos a ver c\xf3mo forzar la navegaci\xf3n desde nuestro c\xf3digo."),(0,r.kt)("p",null,"La primera forma es utilizar el componente ",(0,r.kt)("inlineCode",{parentName:"p"},"Navigate"),", que redirecciona al usuario cuando se renderiza. Por ejemplo, podemos utilizar este componente para redireccionarlo a la p\xe1gina de ingreso si no est\xe1 autenticado:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'import { Navigate } from "react-router-dom";\n\nfunction App() {\n  const authenticated = ...;\n  return (\n    { authenticated ? <h1>Bienvenido</h1> : <Navigate to="/login" /> }\n  )\n}\n')),(0,r.kt)("p",null,"La otra forma es utilizar el hook ",(0,r.kt)("inlineCode",{parentName:"p"},"useNavigate"),", que podemos invocar en nuestro c\xf3digo cuando necesitemos redireccionar al usuario a otra ruta. Por ejemplo, podemos utilizar ",(0,r.kt)("inlineCode",{parentName:"p"},"useNavigate")," para redireccionar al usuario despu\xe9s de la autenticaci\xf3n:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'import { useNavigate } from "react-router-dom";\n\nfunction Login() {\n  const navigate = useNavigate();\n\n  function handleSubmit() {\n    // autenticamos al usuario\n    navigate("/") // lo redireccionamos\n  }\n\n  return <form onSubmit={handleSubmit}>...</form>\n}\n')),(0,r.kt)("h2",{id:"rutas-privadas"},"Rutas Privadas"),(0,r.kt)("p",null,"Para implementar rutas privadas (rutas que s\xf3lo usuarios autenticados pueden acceder) necesitamos crear un componente adicional que llamaremos ",(0,r.kt)("inlineCode",{parentName:"p"},"RequireAuth")," y que se configurar\xe1 en la ruta de la siguiente forma:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'<Route \n  path="/private" \n  element={\n    <RequireAuth>\n      <ProtectedPage />\n    </RequireAuth>\n  }\n>\n')),(0,r.kt)("p",null,"El componente ",(0,r.kt)("inlineCode",{parentName:"p"},"RequireAuth")," se implementar\xeda de la siguiente forma:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useLocation } from 'react-router-dom';\n\nfunction RequireAuth({ children }) {\n  const location = useLocation();\n  const authenticated = ... // verificar si el usuario est\xe1 autenticado\n  return authenticated ? children : <Navigate to=\"/login\" state={{ from: location }} />\n}\n")),(0,r.kt)("p",null,"La idea general de este componente es verificar si el usuario est\xe1 autenticado y renderizar el componente protegido o redireccionar al usuario a la p\xe1gina de ingreso."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Nota:")," En este ejemplo hemos omitido el c\xf3digo que verifica si el usuario est\xe1 autenticado porque depende de la forma en que se implemente (p.e. esta informaci\xf3n puede estar en el Context API, en Redux, o directamente en el LocalStorage, entre otras)."))}m.isMDXComponent=!0}}]);