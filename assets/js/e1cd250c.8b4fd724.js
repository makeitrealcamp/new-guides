"use strict";(self.webpackChunkmir_guia=self.webpackChunkmir_guia||[]).push([[7394],{3905:(e,a,t)=>{t.d(a,{Zo:()=>l,kt:()=>h});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=n.createContext({}),c=function(e){var a=n.useContext(p),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},l=function(e){var a=c(e.components);return n.createElement(p.Provider,{value:a},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=c(t),m=r,h=u["".concat(p,".").concat(m)]||u[m]||d[m]||o;return t?n.createElement(h,i(i({ref:a},l),{},{components:t})):n.createElement(h,i({ref:a},l))}));function h(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=m;var s={};for(var p in a)hasOwnProperty.call(a,p)&&(s[p]=a[p]);s.originalType=e,s[u]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=t[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},6901:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var n=t(7462),r=(t(7294),t(3905));const o={},i="Realizando peticiones HTTP",s={unversionedId:"javascript/navegador/peticiones-http",id:"javascript/navegador/peticiones-http",title:"Realizando peticiones HTTP",description:"Desde el navegador podemos realizar peticiones HTTP a servidores remotos con JavaScript. A esta t\xe9cnica tambi\xe9n se le conoce como AJAX (Asynchronous JavaScript and XML).",source:"@site/docs/javascript/navegador/peticiones-http.md",sourceDirName:"javascript/navegador",slug:"/javascript/navegador/peticiones-http",permalink:"/docs/javascript/navegador/peticiones-http",draft:!1,editUrl:"https://github.com/makeitrealcamp/new-guides/tree/main/docs/javascript/navegador/peticiones-http.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"JSON",permalink:"/docs/javascript/navegador/json"},next:{title:"React",permalink:"/docs/react/"}},p={},c=[{value:"Fetch API",id:"fetch-api",level:2},{value:"Axios",id:"axios",level:2}],l={toc:c},u="wrapper";function d(e){let{components:a,...t}=e;return(0,r.kt)(u,(0,n.Z)({},l,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"realizando-peticiones-http"},"Realizando peticiones HTTP"),(0,r.kt)("p",null,"Desde el navegador podemos realizar peticiones HTTP a servidores remotos con JavaScript. A esta t\xe9cnica tambi\xe9n se le conoce como AJAX (Asynchronous JavaScript and XML)."),(0,r.kt)("p",null,"En este cap\xedtulo vamos a ver dos formas de realizar peticiones HTTP a servidores remotos: el Fetch API y una librer\xeda llamada ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/axios/axios"},"Axios"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Nota 1:")," si a\xfan no has trabajado con programaci\xf3n asincr\xf3nica con JavaScript te recomendamos que veas primero ",(0,r.kt)("a",{parentName:"p",href:"/docs/javascript/avanzado/programacion-asincronica"},"esta gu\xeda")," antes de continuar."),(0,r.kt)("h2",{id:"fetch-api"},"Fetch API"),(0,r.kt)("p",null,"El Fetch API es el reemplazo de un objeto llamado ",(0,r.kt)("inlineCode",{parentName:"p"},"XMLHttpRequest (XHR)"),", que era lo que se utilizaba antes para hacer peticiones remotas. ",(0,r.kt)("inlineCode",{parentName:"p"},"XMLHttpRequest")," es engorroso de utilizar y XML, que es un formato de intercambio de informaci\xf3n, ha ca\xeddo en desuso en favor de ",(0,r.kt)("a",{parentName:"p",href:"json"},"JSON"),"."),(0,r.kt)("p",null,"Para utilizar el Fetch API no necesitas instalar ninguna librer\xeda. Sin embargo, algunos navegadores no lo soportan a\xfan, particularmente Internet Explorer <= 13. Te recomendamos ",(0,r.kt)("a",{parentName:"p",href:"https://caniuse.com/#feat=fetch"},"consultar esta p\xe1gina")," para ver el soporte actual."),(0,r.kt)("p",null,"Para realizar una petici\xf3n HTTP con el Fetch API se utiliza el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"fetch"),", que en su versi\xf3n m\xe1s simple recibe una URL:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"fetch('https://jsonplaceholder.typicode.com/todos/1')\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"fetch")," retorna una promesa que se resuelve con la respuesta del servidor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"fetch('https://jsonplaceholder.typicode.com/todos/1')\n  .then(function(response) {\n    // response.status (el c\xf3digo de respuesta)\n    // response.headers.get(\"Content-Type\")\n    // ..\n  })\n")),(0,r.kt)("p",null,"Para obtener el cuerpo de la respuesta debemos utilizar el m\xe9todo ",(0,r.kt)("inlineCode",{parentName:"p"},"json")," del response y anidarlo en la cadena de promesas:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"fetch('https://jsonplaceholder.typicode.com/todos/1')\n  .then(function(response) { return response.json() })\n  .then(function(data) {\n    console.log(data)\n  })\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"fetch")," recibe un segundo par\xe1metro, un objeto que podemos utilizar para personalizar nuestra petici\xf3n. Por ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'fetch(url, {\n    method: \'POST\',\n    headers: {\n      "Content-type": "application/json"\n    },\n    body: \'{ "name": "Pedro Perez" }\'\n  })\n')),(0,r.kt)("h2",{id:"axios"},"Axios"),(0,r.kt)("p",null,"Axios es una librer\xeda constru\xedda sobre ",(0,r.kt)("inlineCode",{parentName:"p"},"XMLHttpRequest (XHR)")," pero con un API similar al de Fetch API (basado en promesas). Es ideal cuando necesitamos soportar navegadores antiguos que a\xfan no incluyen Fetch API."),(0,r.kt)("p",null,"El primer paso para utilizar Axios es instalar la librer\xeda que lo puedes hacer incluyendo la siguiente l\xednea:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<script src="https://unpkg.com/axios/dist/axios.min.js"><\/script>\n')),(0,r.kt)("p",null,"Para realizar peticiones HTTP con Axios utiliza el objeto ",(0,r.kt)("inlineCode",{parentName:"p"},"axios"),", que expone m\xe9todos para los diferentes verbos HTTP como ",(0,r.kt)("inlineCode",{parentName:"p"},"GET"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"POST"),", etc. Veamos un ejemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"axios.get('https://jsonplaceholder.typicode.com/todos/1')\n  .then(function(data) {\n    console.log(data)\n  })\n")),(0,r.kt)("p",null,"Los m\xe9todos que expone ",(0,r.kt)("inlineCode",{parentName:"p"},"axios")," reciben un segundo par\xe1metro, un objeto que puedes utilizar para personalizar la petici\xf3n:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'axios.post(\'https://jsonplaceholder.typicode.com/todos/\', {\n  headers: {\n    "Content-type": "application/json"\n  },\n  data: {\n    title: "Prueba",\n  }\n})\n')),(0,r.kt)("p",null,"Para ver la documentaci\xf3n completa de Axios te recomendamos consultar ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/axios/axios"},"el respositorio en Github")," de la librer\xeda."))}d.isMDXComponent=!0}}]);